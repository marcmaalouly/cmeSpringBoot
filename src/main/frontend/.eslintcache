[{"C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\index.js":"1","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\App.js":"2","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Restaurant.js":"4","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Modal.js":"5","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\UserPage.js":"6","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Nav.js":"7","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Home.js":"8","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Pagination.js":"9"},{"size":500,"mtime":499162500000,"results":"10","hashOfConfig":"11"},{"size":497,"mtime":1609081082128,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":1753,"mtime":1609074723023,"results":"14","hashOfConfig":"11"},{"size":834,"mtime":1608999651974,"results":"15","hashOfConfig":"11"},{"size":2018,"mtime":1609077480639,"results":"16","hashOfConfig":"11"},{"size":500,"mtime":1609073190881,"results":"17","hashOfConfig":"11"},{"size":3130,"mtime":1609081708756,"results":"18","hashOfConfig":"11"},{"size":583,"mtime":1609080637278,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"zd9qv2",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"22"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"22"},"C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\index.js",[],["44","45"],"C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\App.js",[],"C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Restaurant.js",["46","47","48","49"],"import React,{useState,useEffect} from 'react';\r\nimport axios from \"axios\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport Modal from './Modal';\r\nimport './Restaurant.css';\r\n\r\nconst Restaurant = ({name,address,number,type,price,id,index}) =>{\r\n\r\n    const setVisit=e=>{\r\n        var today = new Date(),\r\n        datenow = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n        \r\n        //I hard coded the user id since we only have one user in our case\r\n\r\n        axios.post(\"http://localhost:8080/api/v1/visit\",{\r\n            person_id: 'e5f3d266-70dd-4b47-85f6-6c8cddce6488',\r\n            restaurant_id: e.target.value,\r\n            date: datenow\r\n        });\r\n        window.location.reload(false);\r\n      };\r\n\r\n    const [modal,setModal] = useState(false);\r\n\r\n    const [typeid,setTypeid] = useState('');\r\n\r\n    const showModel=()=>{\r\n        setModal(true);\r\n    }\r\n    \r\n    const disableModel=()=>{\r\n        setModal(false);\r\n    }\r\n    \r\n    const fetchRestaurantType=()=>{\r\n        axios.get(`http://localhost:8080/api/v1/type/${type}`).then(res=>{\r\n            setTypeid(res.data.type);   \r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetchRestaurantType();\r\n    },[modal])\r\n    return(\r\n        <div>\r\n            <div className=\"content-restaurant\">\r\n                <h1><a href=\"#\" onClick={showModel} value={id}>{name}</a></h1>\r\n                <button onClick={setVisit} value={id}>Visit</button>\r\n            </div>\r\n            <Modal show={modal} handleClose={disableModel} name={name} address={address} price={price} number={number} type={typeid}/>\r\n        </div>\r\n    );\r\n}\r\nexport default Restaurant;","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Modal.js",[],["50","51"],"C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\UserPage.js",["52"],"import React,{useState,useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport axios from \"axios\";\r\nimport { blue } from '@material-ui/core/colors';\r\n\r\nfunction UserPage(){\r\n\r\n    const [rows,setRows] = useState([]);\r\n\r\n    const fetchRows= () =>{\r\n        axios.get(\"http://localhost:8080/api/v1/visit/e5f3d266-70dd-4b47-85f6-6c8cddce6488\").then(res=>{\r\n            console.log(res);\r\n            setRows(res.data);\r\n        });\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n        fetchRows();\r\n    },[]);\r\n\r\n    const useStyles = makeStyles({\r\n        table: {\r\n          minWidth: 650,\r\n        },\r\n      });\r\n    \r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <div>\r\n            <TableContainer component={Paper}>\r\n                <Table className={classes.table} aria-label=\"simple table\">\r\n                    <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Restaurant</TableCell>\r\n                        <TableCell align=\"right\">Date</TableCell>\r\n                    </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                    {rows.map((row) => (\r\n                        <TableRow key={row.restaurant_id}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                            {row.restName}\r\n                        </TableCell>\r\n                        <TableCell align=\"right\">{row.date}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserPage;","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Nav.js",[],"C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Home.js",["53","54"],"import React,{useState,useEffect} from 'react';\r\nimport axios from \"axios\";\r\nimport './App.css';\r\nimport Restaurant from './Restaurant';\r\nimport Pagination from './Pagination';\r\n\r\nfunction Home(){\r\n    \r\n  const [loading,setLoading] = useState(false);\r\n  const [search,setSearch] = useState(\"\");\r\n  const [currentPage,setCurrentPage] = useState(1);\r\n  const [postsPerPage,setPostsPerPage] = useState(3);\r\n  const [restaurants,setRestaurants]=useState([]);\r\n\r\n  const[url,setUrl]=useState('checkvisit/e5f3d266-70dd-4b47-85f6-6c8cddce6488');\r\n\r\n  const fetchRestaurants= async ()=>{\r\n        setLoading(true);\r\n        await axios.get(`http://localhost:8080/api/v1/restaurant/${url}`).then(res=>{\r\n        setRestaurants(res.data);\r\n        setTimeout(()=>{\r\n            setLoading(false);\r\n        },2000)\r\n        \r\n      });\r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetchRestaurants();\r\n  },[url]);\r\n\r\n\r\n  const updateSearch= e =>{\r\n    setSearch(e.target.value);\r\n  }\r\n\r\n  const getSearch = e =>{\r\n    e.preventDefault();\r\n    console.log(selectedType);\r\n    if(search==='' && selectedType!==''){\r\n      setUrl(`type/${selectedType}`);\r\n    }else{\r\n      setUrl(`search/name=${search}`);\r\n    }\r\n    \r\n  }\r\n  \r\n  const [types,setType]= useState([]);\r\n\r\n  const [selectedType,setSelectedType]= useState('');\r\n\r\n  const fetchType=async ()=>{\r\n    setLoading(true);\r\n    await axios.get(\"http://localhost:8080/api/v1/type\").then(res=>{\r\n      setType(res.data);\r\n      setTimeout(()=>{\r\n        setLoading(false);\r\n    },2000)\r\n    })\r\n    \r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetchType();\r\n  },[])\r\n  \r\n  const getType=e=>{\r\n    setSelectedType(e.target.value);\r\n  }\r\n\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost= indexOfLastPost - postsPerPage ;\r\n  const currentRest = restaurants.slice(indexOfFirstPost , indexOfLastPost);\r\n\r\n\r\n  const paginate= pageNumbers => setCurrentPage(pageNumbers);\r\n  if(loading){\r\n    return(\r\n        <div className=\"loader\"></div>\r\n    );\r\n  }else{\r\n\r\n    return (\r\n        <div>\r\n        <div className=\"nav\">\r\n            <form onSubmit={getSearch}>\r\n            <input type=\"text\" className=\"search-bar\"  value={search} onChange={updateSearch} /> \r\n            <select onChange={getType}>\r\n                <option value=''>Type</option>\r\n                {types.map((types,index)=>{\r\n                    return(\r\n                        <option value={types.id} key={index}>{types.type}</option>\r\n                    )      \r\n                })}\r\n            </select>    \r\n            <input type=\"submit\" className=\"search-button\" />\r\n            </form>\r\n        </div>\r\n\r\n\r\n        <div className=\"listRestaurants\">\r\n            {currentRest.map((restaurants,index)=>(\r\n            <Restaurant key={index} name={restaurants.name} address={restaurants.address} price={restaurants.avgcost} number={restaurants.phonenumber} type={restaurants.typeId} id={restaurants.id}/>\r\n            ))}\r\n        </div>\r\n        <Pagination restaurantsPerPage={postsPerPage} totalRestaurants={restaurants.length} paginate={paginate}/>\r\n        </div>\r\n    );\r\n    }\r\n}\r\nexport default Home;","C:\\Users\\maalouly\\Desktop\\InternTask\\src\\main\\frontend\\src\\Pagination.js",["55"],"import React from 'react';\r\nimport './Pagination.css';\r\n\r\nconst Pagination = ({restaurantsPerPage , totalRestaurants ,paginate}) =>{\r\n\r\n    const pageNumbers = [];\r\n\r\n    for(let i=1 ;i <= Math.ceil(totalRestaurants / restaurantsPerPage); i++){\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div className=\"pagination\">\r\n                {pageNumbers.map(number=>(\r\n                    <a onClick={()=>paginate(number)} href=\"#\" key={number}>{number}</a>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default Pagination;",{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":3,"column":10,"nodeType":"62","messageId":"63","endLine":3,"endColumn":25},{"ruleId":"60","severity":1,"message":"64","line":4,"column":10,"nodeType":"62","messageId":"63","endLine":4,"endColumn":23},{"ruleId":"65","severity":1,"message":"66","line":44,"column":7,"nodeType":"67","endLine":44,"endColumn":14,"suggestions":"68"},{"ruleId":"69","severity":1,"message":"70","line":48,"column":21,"nodeType":"71","endLine":48,"endColumn":64},{"ruleId":"56","replacedBy":"72"},{"ruleId":"58","replacedBy":"73"},{"ruleId":"60","severity":1,"message":"74","line":11,"column":10,"nodeType":"62","messageId":"63","endLine":11,"endColumn":14},{"ruleId":"60","severity":1,"message":"75","line":12,"column":23,"nodeType":"62","messageId":"63","endLine":12,"endColumn":38},{"ruleId":"65","severity":1,"message":"76","line":30,"column":5,"nodeType":"67","endLine":30,"endColumn":10,"suggestions":"77"},{"ruleId":"69","severity":1,"message":"70","line":16,"column":21,"nodeType":"71","endLine":16,"endColumn":77},"no-native-reassign",["78"],"no-negated-in-lhs",["79"],"no-unused-vars","'FontAwesomeIcon' is defined but never used.","Identifier","unusedVar","'faCheckCircle' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchRestaurantType'. Either include it or remove the dependency array.","ArrayExpression",["80"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["78"],["79"],"'blue' is defined but never used.","'setPostsPerPage' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'fetchRestaurants'. Either include it or remove the dependency array.",["81"],"no-global-assign","no-unsafe-negation",{"desc":"82","fix":"83"},{"desc":"84","fix":"85"},"Update the dependencies array to be: [fetchRestaurantType, modal]",{"range":"86","text":"87"},"Update the dependencies array to be: [fetchRestaurants, url]",{"range":"88","text":"89"},[1306,1313],"[fetchRestaurantType, modal]",[882,887],"[fetchRestaurants, url]"]